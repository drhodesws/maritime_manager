{% extends 'base.html' %}

{% block content %}
    <div class="header">
        <h1>Customize Employee Columns</h1>
        <p>Select the columns you want to display</p>
    </div>
    <form method="post" action="{{ url_for('employees.select_columns') }}" style="max-width: 600px; margin: 20px; padding: 20px; background: #fff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        <table style="width: 100%; border-collapse: collapse;">
            <tbody>
                {% for option in field_options %}
                    {% if loop.index0 % 2 == 0 and loop.index0 < field_options|length %}
                        <tr>
                            <td style="padding: 10px; text-align: center;">
                                <input type="checkbox" name="columns" value="{{ option.value }}" {% if option.value in selected_fields %}checked{% endif %}>
                            </td>
                            <td style="padding: 10px; text-align: left; vertical-align: middle;">
                                {{ option.label }}
                            </td>
                            {% if loop.index0 + 1 < field_options|length %}
                                <td style="padding: 10px; text-align: center;">
                                    <input type="checkbox" name="columns" value="{{ field_options[loop.index0 + 1].value }}" {% if field_options[loop.index0 + 1].value in selected_fields %}checked{% endif %}>
                                </td>
                                <td style="padding: 10px; text-align: left; vertical-align: middle;">
                                    {{ field_options[loop.index0 + 1].label }}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                {% endfor %}
            </tbody>
        </table>
        <div style="display: flex; gap: 10px; margin-top: 20px;">
            <button type="submit" class="action-btn">Save Selection</button>
            <a href="{{ url_for('employees.list_employees') }}" class="action-btn" style="text-decoration: none; padding: 5px 10px;">Cancel</a>
        </div>
    </form>
{% endblock %}