{% extends 'base.html' %}

{% block content %}
    {% if session['role'] == 'admin' %}
        <div class="header">
            <h1>Control Panel</h1>
            <p>Manage system-wide settings (Admin only)</p>
        </div>
        <div style="max-width: 600px; margin: 20px; padding: 20px; background: #fff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <p style="color: {{ 'green' if category == 'success' else 'red' }}; padding: 10px; margin-bottom: 10px; border-radius: 4px; background-color: #f9f9f9;">{{ message }}</p>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            <p>This panel provides access to system-wide configuration options.</p>
            
            <!-- Manage Roles Button -->
            <a href="{{ url_for('control_panel.roles_list') }}" 
               style="display: inline-block; margin-top: 20px; margin-right: 15px; padding: 10px 20px; background-color: #003366; color: white; text-decoration: none; border-radius: 4px; transition: background-color 0.3s;" 
               onmouseover="this.style.backgroundColor='#004080'" 
               onmouseout="this.style.backgroundColor='#003366'">Manage Roles</a>

            <!-- NEW: Manage Users Button â€” right next to Roles -->
            <a href="{{ url_for('control_panel.users_list') }}" 
               style="display: inline-block; margin-top: 20px; padding: 10px 20px; background-color: #17a2b8; color: white; text-decoration: none; border-radius: 4px; transition: background-color 0.3s;" 
               onmouseover="this.style.backgroundColor='#138496'" 
               onmouseout="this.style.backgroundColor='#17a2b8'">Manage Users</a>
        </div>
    {% else %}
        <div style="margin: 20px; padding: 20px; background: #fff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: center;">
            <p>Access denied. Only admins can manage menu items and roles.</p>
        </div>
    {% endif %}
{% endblock %}